# Pulya Framework Performance Baseline Report

**Date:** 2026-02-05
**Commit:** d3d996b
**Branch:** llm

## System Information

- **Python Version:** 3.14.2
- **Platform:** darwin (macOS)
- **Pytest Version:** 9.0.2
- **Benchmark Library:** pytest-benchmark 5.2.3
- **CPU:** (auto-detected)

## Benchmark Results Summary

### Routing Benchmarks

| Benchmark | Mean Time | OPS (Kops/s) | Min | Max |
|-----------|-----------|--------------|-----|-----|
| test_static_route_benchmark | 994.7 ns | 1,005.3 | 708.0 ns | 66,958.0 ns |
| test_dynamic_route_benchmark | 1,282.1 ns | 779.9 | 917.0 ns | 107,417.0 ns |
| test_router_creation_benchmark | 24,737.0 ns | 40.43 | 16,041.0 ns | 15,393,084.0 ns |

### Serialization Benchmarks

| Benchmark | Mean Time | OPS (Kops/s) | Min | Max |
|-----------|-----------|--------------|-----|-----|
| test_small_json_serialization | 163.9 ns | 6,101.1 | 42.0 ns | 33,209.0 ns |
| test_medium_json_serialization | 4,427.6 ns | 225.9 | 3,333.0 ns | 79,042.0 ns |
| test_large_json_serialization | 74,432.5 ns | 13.44 | 59,708.0 ns | 257,958.0 ns |

### Header Processing Benchmarks

| Benchmark | Mean Time | OPS (Kops/s) | Min | Max |
|-----------|-----------|--------------|-----|-----|
| test_header_list_creation_benchmark | 63.6 ns | 15,714.9 | 51.2 ns | 1,046.7 ns |
| test_header_dict_creation_benchmark | 98.4 ns | 10,163.4 | 80.8 ns | 1,664.6 ns |

### Request Handling Benchmarks

| Benchmark | Mean Time | OPS (Kops/s) | Min | Max |
|-----------|-----------|--------------|-----|-----|
| test_contextvar_set_reset_benchmark | 308.2 ns | 3,244.5 | 167.0 ns | 62,084.0 ns |

## Key Observations

1. **Fastest Operations:** Header list creation is the fastest at ~15,715 Kops/s
2. **Slowest Operations:** Router creation is the slowest at ~40.43 Kops/s due to route compilation
3. **JSON Serialization:** Small payloads serialize at ~6,101 Kops/s, while large payloads drop to ~13.44 Kops/s
4. **Route Matching:** Static routes (~1,005 Kops/s) are ~29% faster than dynamic routes (~780 Kops/s)

## Performance Budgets (Target for Phase 1-3 Optimizations)

| Category | Current | Target | Improvement |
|----------|---------|--------|-------------|
| Static Route Matching | 1,005.3 Kops/s | 1,200 Kops/s | +19% |
| Dynamic Route Matching | 779.9 Kops/s | 950 Kops/s | +22% |
| JSON Serialization (small) | 6,101.1 Kops/s | 7,000 Kops/s | +15% |
| Router Creation | 40.43 Kops/s | 50 Kops/s | +24% |

## How to Compare Against This Baseline

```bash
# Run benchmarks and save to new file
uv run pytest benchmarks/ --benchmark-json=performance-reports/baselines/baseline-$(date +%Y%m%d).json

# Compare using pytest-benchmark compare (if available)
uv run pytest benchmarks/ --benchmark-compare=performance-reports/baselines/baseline-20260205.json
```

## Files

- **JSON Data:** `baseline-20260205.json`
- **This Report:** `BASELINE-2026-02-05.md`

---
*Generated automatically by pytest-benchmark*
